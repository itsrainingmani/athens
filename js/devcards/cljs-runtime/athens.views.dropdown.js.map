{"version":3,"sources":["athens/views/dropdown.cljs"],"mappings":"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","names":["stylefy.core.keyframes.cljs$core$IFn$_invoke$arity$variadic","athens.views.dropdown/dropdown-style","athens.style/ZINDICES","athens.style.color.cljs$core$IFn$_invoke$arity$1","athens.style/DEPTH-SHADOWS","athens.views.dropdown/menu-style","G__58383","garden.selectors/&","G__58384","garden.selectors/not","garden.selectors/first-child","G__58385","G__58386","garden.selectors/last-child","athens.views.dropdown/menu-item-style","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","athens.views.buttons/buttons-style","athens.views.dropdown/menu-item-active-style","athens.views.dropdown/menu-heading-style","athens.views.dropdown/menu-separator-style","athens.views.dropdown/submenu-indicator-style","p__58387","map__58388","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","athens.views.dropdown/dropdown","style","content","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$2","p__58390","map__58391","athens.views.dropdown/menu","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$1","athens.views.dropdown/menu-separator","p__58393","map__58394","athens.views.dropdown/menu-item","disabled","label","athens.views.buttons/button","athens.views.dropdown/submenu-indicator","js/module$node_modules$$material_ui$icons$index.ChevronRight","athens.views.dropdown/menu-heading","heading","p__58396","map__58397","athens.views.dropdown/slash-menu-component","js/module$node_modules$$material_ui$icons$index.Done","js/module$node_modules$$material_ui$icons$index.Description","js/module$node_modules$$material_ui$icons$index.Link","js/module$node_modules$$material_ui$icons$index.Timer","js/module$node_modules$$material_ui$icons$index.DateRange","js/module$node_modules$$material_ui$icons$index.Attachment","js/module$node_modules$$material_ui$icons$index.ExposurePlus1","js/module$node_modules$$material_ui$icons$index.Today","p__58399","map__58400","athens.views.dropdown/page-menu-component","js/module$node_modules$$material_ui$icons$index.BookmarkBorder","js/module$node_modules$$material_ui$icons$index.Delete","athens.views.dropdown/block-context-menu-component","js/module$node_modules$$material_ui$icons$index.Star","js/module$node_modules$$material_ui$icons$index.Face","js/module$node_modules$$material_ui$icons$index.LastPage","js/module$node_modules$$material_ui$icons$index.Launch","js/module$node_modules$$material_ui$icons$index.UnfoldMore","js/module$node_modules$$material_ui$icons$index.UnfoldLess","js/module$node_modules$$material_ui$icons$index.Slideshow","js/module$node_modules$$material_ui$icons$index.FileCopy","js/module$node_modules$$material_ui$icons$index.LibraryAdd","js/module$node_modules$$material_ui$icons$index.History","js/module$node_modules$$material_ui$icons$index.CloudDownload","athens.views.dropdown/items","athens.views.dropdown/filter-dropdown-component","athens.views.filters/filters-el"],"sourcesContent":["(ns athens.views.dropdown\n  (:require\n    [\"@material-ui/icons\" :as mui-icons]\n    [athens.db]\n    [athens.style :refer [color DEPTH-SHADOWS ZINDICES]]\n    [athens.views.buttons :refer [button buttons-style]]\n    [athens.views.filters :refer [filters-el]]\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [garden.selectors :as selectors]\n    [stylefy.core :as stylefy :refer [use-style]]))\n\n\n;;; Styles\n\n\n(stylefy/keyframes \"dropdown-appear\"\n                   [:from {:opacity 0\n                           :transform \"translateY(-10%)\"}]\n                   [:to {:opacity 1\n                         :transform \"translateY(0)\"}])\n\n\n(def dropdown-style\n  {:display \"inline-flex\"\n   :z-index (:zindex-dropdown ZINDICES)\n   :padding \"0.25rem\"\n   :border-radius \"cal(0.25rem + 0.25rem)\" ;; Button corner radius + container padding makes \"concentric\" container radius\n   :min-height \"2em\"\n   :min-width \"2em\"\n   :animation \"dropdown-appear 0.125s\"\n   :animation-fill-mode \"both\"\n   :background (color :background-plus-2)\n   :box-shadow [[(:64 DEPTH-SHADOWS) \", 0 0 0 1px rgba(0, 0, 0, 0.05)\"]]\n   :flex-direction \"column\"})\n\n\n(def menu-style\n  {:display \"grid\"\n   :grid-gap \"0.125rem\"\n   :min-width \"9em\"\n   :align-items \"stretch\"\n   :grid-auto-flow \"row\"\n   :overflow \"auto\"\n   ::stylefy/manual [[(selectors/& (selectors/not (selectors/first-child))) {:margin-block-start \"0.25rem\"}]\n                     [(selectors/& (selectors/not (selectors/last-child))) {:margin-block-end \"0.25rem\"}]]})\n\n\n(def menu-item-style\n  (merge\n    buttons-style\n    {:min-height \"1.5rem\"}))\n\n\n(def menu-item-active-style\n  {:background (color :link-color)\n   :color \"#fff\"})\n\n\n(def menu-heading-style\n  {:min-height \"2rem\"\n   :text-align \"center\"\n   :padding \"0.375rem 0.5rem\"\n   :display \"flex\"\n   :align-content \"flex-end\"\n   :justify-content \"center\"\n   :align-items \"center\"\n   :font-size \"12px\"\n   :max-width \"100%\"\n   :overflow \"hidden\"\n   :text-overflow \"ellipsis\"})\n\n\n(def menu-separator-style\n  {:border \"0\"\n   :background (color :border-color)\n   :align-self \"stretch\"\n   :justify-self \"stretch\"\n   :height \"1px\"\n   :margin \"0.25rem 0\"})\n\n\n(def submenu-indicator-style\n  {:margin-left \"auto\"\n   :opacity \"0.5\"\n   :display \"flex\"\n   :order 10\n   :align-self \"flex-end\"\n   :font-family \"inherit\"\n   ::stylefy/manual [[:&:last-child {:padding-inline-end \"0\"}]]})\n\n\n;;; Primitives\n\n\n(defn dropdown\n  [{:keys [style content]}]\n  [:div (use-style (merge dropdown-style style) {:id \"dropdown\"})\n   content])\n\n\n(defn menu\n  [{:keys [style content]}]\n  [:div (use-style (merge menu-style style))\n   content])\n\n\n(defn menu-separator\n  []\n  [:hr (use-style menu-separator-style)])\n\n\n(defn menu-item\n  [{:keys [disabled label style]}]\n  [button {:label label :disabled disabled :style (merge menu-item-style style)}])\n\n\n(defn submenu-indicator\n  []\n  [:> mui-icons/ChevronRight (use-style submenu-indicator-style)])\n\n\n(defn menu-heading\n  [heading]\n  [:header (use-style menu-heading-style) [:span heading]])\n\n\n;;; Components\n\n\n(defn slash-menu-component\n  [{:keys [style]}]\n  [dropdown {:style style :content\n             [menu {:style {:max-height \"8em\"} :content\n                    [:<>\n                     [menu-item {:label [:<> [:> mui-icons/Done] [:span \"Add Todo\"] [:kbd \"cmd-enter\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Description] [:span \"Page Reference\"] [:kbd \"[[\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Link] [:span \"Block Reference\"] [:kbd \"((\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Timer] [:span \"Current Time\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/DateRange] [:span \"Date Picker\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Attachment] [:span \"Upload Image or File\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/ExposurePlus1] [:span \"Word Count\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Today] [:span \"Today\"]]}]]}]}])\n\n\n(defn page-menu-component\n  [{:keys [style]}]\n  [dropdown {:style (merge {:font-size \"14px\"} style) :content\n             [menu {:content\n                    [:<>\n                     ;; TODO: Add to / Remove from Bookmarks, depending on which it is\n                     [menu-item {:label [:<> [:> mui-icons/BookmarkBorder] [:span \"Add to Shortcuts\"]]}]\n                     [menu-separator]\n                     [menu-item {:label [:<> [:> mui-icons/Delete] [:span \"Delete Page\"]]}]]}]}])\n\n\n(defn block-context-menu-component\n  [style]\n  [dropdown {:style style :content\n             [menu {:content\n                    [:<>\n                     ;;  [menu-heading \"Modify Block 'Day of Datomic On-Prem 2016'\"]\n                     ;;  [textinput {:icon [:> mui-icons/Face] :placeholder \"Type to filter\"}]\n                     [menu-item {:label [:<> [:> mui-icons/Link] [:span \"Copy Page Reference\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Star] [:span \"Add to Shortcuts\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Face] [:span \"Add Reaction\"] [submenu-indicator]]}]\n                     [menu-separator]\n                     [menu-item {:label [:<> [:> mui-icons/LastPage] [:span \"Open in Sidebar\"] [:kbd \"shift-click\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Launch] [:span \"Open in New Window\"] [:kbd \"ctrl-o\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/UnfoldMore] [:span \"Expand All\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/UnfoldLess] [:span \"Collapse All\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/Slideshow] [:span \"View As\"] [submenu-indicator]]}]\n                     [menu-separator]\n                     [menu-item {:label [:<> [:> mui-icons/FileCopy] [:span \"Duplicate and Break Links\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/LibraryAdd] [:span \"Save as Template\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/History] [:span \"Browse Versions\"]]}]\n                     [menu-item {:label [:<> [:> mui-icons/CloudDownload] [:span \"Export As\"]]}]]}]}])\n\n\n(def items\n  {\"Amet\"   {:count 6 :state :added}\n   \"At\"     {:count 130 :state :excluded}\n   \"Diam\"   {:count 6}\n   \"Donec\"  {:count 6}\n   \"Elit\"   {:count 30}\n   \"Elitudomin mesucen defibocutruon\"  {:count 1}\n   \"Erat\"   {:count 11}\n   \"Est\"    {:count 2}\n   \"Eu\"     {:count 2}\n   \"Ipsum\"  {:count 2 :state :excluded}\n   \"Magnis\" {:count 10 :state :added}\n   \"Metus\"  {:count 29}\n   \"Mi\"     {:count 7 :state :added}\n   \"Quam\"   {:count 1}\n   \"Turpis\" {:count 97}\n   \"Vitae\"  {:count 1}})\n\n\n(defn filter-dropdown-component\n  []\n  [dropdown {:style   {:width \"20em\" :height \"20em\"}\n             :content [:<>\n                       [menu-heading \"Filters\"]\n                       [filters-el \"((some-uid))\" items]]}])\n"]}