{"version":3,"sources":["athens/views/dropdown.cljs"],"mappings":"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","names":["stylefy.core.keyframes.cljs$core$IFn$_invoke$arity$variadic","athens.views.dropdown/dropdown-style","athens.style/ZINDICES","athens.style.color.cljs$core$IFn$_invoke$arity$1","athens.style/DEPTH-SHADOWS","athens.views.dropdown/menu-style","G__58375","garden.selectors/&","G__58376","garden.selectors/not","garden.selectors/first-child","G__58377","G__58378","garden.selectors/last-child","athens.views.dropdown/menu-heading-style","athens.views.dropdown/menu-separator-style","athens.views.dropdown/submenu-indicator-style","p__58379","map__58380","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","athens.views.dropdown/dropdown","style","content","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$2","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","p__58382","map__58383","athens.views.dropdown/menu","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$1","athens.views.dropdown/menu-separator","athens.views.dropdown/submenu-indicator","js/module$node_modules$$material_ui$icons$index.ChevronRight","athens.views.dropdown/menu-heading","heading","p__58385","map__58386","athens.views.dropdown/slash-menu-component","athens.views.buttons/button","js/module$node_modules$$material_ui$icons$index.Done","js/module$node_modules$$material_ui$icons$index.Description","js/module$node_modules$$material_ui$icons$index.Link","js/module$node_modules$$material_ui$icons$index.Timer","js/module$node_modules$$material_ui$icons$index.DateRange","js/module$node_modules$$material_ui$icons$index.Attachment","js/module$node_modules$$material_ui$icons$index.ExposurePlus1","js/module$node_modules$$material_ui$icons$index.Today","p__58388","map__58389","athens.views.dropdown/page-menu-component","js/module$node_modules$$material_ui$icons$index.BookmarkBorder","js/module$node_modules$$material_ui$icons$index.Delete","athens.views.dropdown/block-context-menu-component","js/module$node_modules$$material_ui$icons$index.Star","js/module$node_modules$$material_ui$icons$index.Face","js/module$node_modules$$material_ui$icons$index.LastPage","js/module$node_modules$$material_ui$icons$index.Launch","js/module$node_modules$$material_ui$icons$index.UnfoldMore","js/module$node_modules$$material_ui$icons$index.UnfoldLess","js/module$node_modules$$material_ui$icons$index.Slideshow","js/module$node_modules$$material_ui$icons$index.FileCopy","js/module$node_modules$$material_ui$icons$index.LibraryAdd","js/module$node_modules$$material_ui$icons$index.History","js/module$node_modules$$material_ui$icons$index.CloudDownload","athens.views.dropdown/items","athens.views.dropdown/filter-dropdown-component","athens.views.filters/filters-el"],"sourcesContent":["(ns athens.views.dropdown\n  (:require\n    [\"@material-ui/icons\" :as mui-icons]\n    [athens.db]\n    [athens.style :refer [color DEPTH-SHADOWS ZINDICES]]\n    [athens.views.buttons :refer [button]]\n    [athens.views.filters :refer [filters-el]]\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [garden.selectors :as selectors]\n    [stylefy.core :as stylefy :refer [use-style]]))\n\n\n;;; Styles\n\n\n(stylefy/keyframes \"dropdown-appear\"\n                   [:from {:opacity 0\n                           :transform \"translateY(-10%)\"}]\n                   [:to {:opacity 1\n                         :transform \"translateY(0)\"}])\n\n\n(def dropdown-style\n  {:display \"inline-flex\"\n   :z-index (:zindex-dropdown ZINDICES)\n   :padding \"0.25rem\"\n   :border-radius \"calc(0.25rem + 0.25rem)\" ;; Button corner radius + container padding makes \"concentric\" container radius\n   :min-height \"2em\"\n   :min-width \"2em\"\n   :animation \"dropdown-appear 0.125s\"\n   :animation-fill-mode \"both\"\n   :background (color :background-plus-2)\n   :box-shadow [[(:64 DEPTH-SHADOWS) \", 0 0 0 1px rgba(0, 0, 0, 0.05)\"]]\n   :flex-direction \"column\"})\n\n\n(def menu-style\n  {:display \"grid\"\n   :grid-gap \"0.125rem\"\n   :min-width \"9em\"\n   :align-items \"stretch\"\n   :grid-auto-flow \"row\"\n   :overflow \"auto\"\n   ::stylefy/manual [[(selectors/& (selectors/not (selectors/first-child))) {:margin-block-start \"0.25rem\"}]\n                     [(selectors/& (selectors/not (selectors/last-child))) {:margin-block-end \"0.25rem\"}]\n                     [:button {:min-height \"1.5rem\"}\n                      [:svg:first-child {:font-size \"16px\"\n                                         :margin-inline-start \"0\"\n                                         :margin-inline-end \"0.5rem\"}]]]})\n\n\n(def menu-heading-style\n  {:min-height \"2rem\"\n   :text-align \"center\"\n   :padding \"0.375rem 0.5rem\"\n   :display \"flex\"\n   :align-content \"flex-end\"\n   :justify-content \"center\"\n   :align-items \"center\"\n   :font-size \"12px\"\n   :max-width \"100%\"\n   :overflow \"hidden\"\n   :text-overflow \"ellipsis\"})\n\n\n(def menu-separator-style\n  {:border \"0\"\n   :background (color :border-color)\n   :align-self \"stretch\"\n   :justify-self \"stretch\"\n   :height \"1px\"\n   :margin \"0.25rem 0\"})\n\n\n(def submenu-indicator-style\n  {:margin-left \"auto\"\n   :opacity \"0.5\"\n   :display \"flex\"\n   :order 10\n   :align-self \"flex-end\"\n   :font-family \"inherit\"\n   ::stylefy/manual [[:&:last-child {:padding-inline-end \"0\"}]]})\n\n\n;;; Primitives\n\n\n(defn dropdown\n  [{:keys [style content]}]\n  [:div (use-style (merge dropdown-style style) {:id \"dropdown\"})\n   content])\n\n\n(defn menu\n  [{:keys [style content]}]\n  [:div (use-style (merge menu-style style))\n   content])\n\n\n(defn menu-separator\n  []\n  [:hr (use-style menu-separator-style)])\n\n\n(defn submenu-indicator\n  []\n  [:> mui-icons/ChevronRight (use-style submenu-indicator-style)])\n\n\n(defn menu-heading\n  [heading]\n  [:header (use-style menu-heading-style) [:span heading]])\n\n\n;;; Components\n\n\n(defn slash-menu-component\n  [{:keys [style]}]\n  [dropdown {:style style :content\n             [menu {:style {:max-height \"8em\"} :content\n                    [:<>\n                     [button [:<> [:> mui-icons/Done] [:span \"Add Todo\"] [:kbd \"cmd-enter\"]]]\n                     [button [:<> [:> mui-icons/Description] [:span \"Page Reference\"] [:kbd \"[[\"]]]\n                     [button [:<> [:> mui-icons/Link] [:span \"Block Reference\"] [:kbd \"((\"]]]\n                     [button [:<> [:> mui-icons/Timer] [:span \"Current Time\"]]]\n                     [button [:<> [:> mui-icons/DateRange] [:span \"Date Picker\"]]]\n                     [button [:<> [:> mui-icons/Attachment] [:span \"Upload Image or File\"]]]\n                     [button [:<> [:> mui-icons/ExposurePlus1] [:span \"Word Count\"]]]\n                     [button [:<> [:> mui-icons/Today] [:span \"Today\"]]]]}]}])\n\n\n(defn page-menu-component\n  [{:keys [style]}]\n  [dropdown {:style (merge {:font-size \"14px\"} style) :content\n             [menu {:content\n                    [:<>\n                     ;; TODO: Add to / Remove from Bookmarks, depending on which it is\n                     [button [:<> [:> mui-icons/BookmarkBorder] [:span \"Add to Shortcuts\"]]]\n                     [menu-separator]\n                     [button [:<> [:> mui-icons/Delete] [:span \"Delete Page\"]]]]}]}])\n\n\n(defn block-context-menu-component\n  [style]\n  [dropdown {:style style :content\n             [menu {:content\n                    [:<>\n                     ;;  [menu-heading \"Modify Block 'Day of Datomic On-Prem 2016'\"]\n                     ;;  [textinput {:icon [:> mui-icons/Face] :placeholder \"Type to filter\"}]\n                     [button [:<> [:> mui-icons/Link] [:span \"Copy Page Reference\"]]]\n                     [button [:<> [:> mui-icons/Star] [:span \"Add to Shortcuts\"]]]\n                     [button [:<> [:> mui-icons/Face] [:span \"Add Reaction\"] [submenu-indicator]]]\n                     [menu-separator]\n                     [button [:<> [:> mui-icons/LastPage] [:span \"Open in Sidebar\"] [:kbd \"shift-click\"]]]\n                     [button [:<> [:> mui-icons/Launch] [:span \"Open in New Window\"] [:kbd \"ctrl-o\"]]]\n                     [button [:<> [:> mui-icons/UnfoldMore] [:span \"Expand All\"]]]\n                     [button [:<> [:> mui-icons/UnfoldLess] [:span \"Collapse All\"]]]\n                     [button [:<> [:> mui-icons/Slideshow] [:span \"View As\"] [submenu-indicator]]]\n                     [menu-separator]\n                     [button [:<> [:> mui-icons/FileCopy] [:span \"Duplicate and Break Links\"]]]\n                     [button [:<> [:> mui-icons/LibraryAdd] [:span \"Save as Template\"]]]\n                     [button [:<> [:> mui-icons/History] [:span \"Browse Versions\"]]]\n                     [button [:<> [:> mui-icons/CloudDownload] [:span \"Export As\"]]]]}]}])\n\n\n(def items\n  {\"Amet\"   {:count 6 :state :added}\n   \"At\"     {:count 130 :state :excluded}\n   \"Diam\"   {:count 6}\n   \"Donec\"  {:count 6}\n   \"Elit\"   {:count 30}\n   \"Elitudomin mesucen defibocutruon\"  {:count 1}\n   \"Erat\"   {:count 11}\n   \"Est\"    {:count 2}\n   \"Eu\"     {:count 2}\n   \"Ipsum\"  {:count 2 :state :excluded}\n   \"Magnis\" {:count 10 :state :added}\n   \"Metus\"  {:count 29}\n   \"Mi\"     {:count 7 :state :added}\n   \"Quam\"   {:count 1}\n   \"Turpis\" {:count 97}\n   \"Vitae\"  {:count 1}})\n\n\n(defn filter-dropdown-component\n  []\n  [dropdown {:style   {:width \"20em\" :height \"20em\"}\n             :content [:<>\n                       [menu-heading \"Filters\"]\n                       [filters-el \"((some-uid))\" items]]}])\n"]}