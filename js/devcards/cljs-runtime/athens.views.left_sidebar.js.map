{"version":3,"sources":["athens/views/left_sidebar.cljs"],"mappings":"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","names":["athens.views.left-sidebar/left-sidebar-style","athens.views.left-sidebar/shortcuts-list-style","athens.style/OPACITIES","athens.views.left-sidebar/shortcut-style","athens.style.color.cljs$core$IFn$_invoke$arity$1","athens.views.left-sidebar/notional-logotype-style","athens.views.left-sidebar/left-sidebar","open?","G__61182","re-frame.core/subscribe","shortcuts","G__61183","G__61184","posh.reagent/q","athens.db/dsdb","cljs.core/seq","cljs.core/deref","cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2","cljs.core/first","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$1","stylefy.core.use_sub_style.cljs$core$IFn$_invoke$arity$2","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","iter__4582__auto__","s__61186","cljs.core/LazySeq","temp__5735__auto__","cljs.core/chunked-seq?","c__4580__auto__","size__4581__auto__","cljs.core/count","b__61188","cljs.core/chunk-buffer","i__61187","vec__61189","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__61185","cljs.core/chunk-rest","vec__61192","cljs.core/cons","cljs.core/rest","_order","title","uid","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$2","athens.router.navigate_uid.cljs$core$IFn$_invoke$arity$1","athens.views.buttons/button-primary","G__61195","re-frame.core/dispatch","cljs.core/chunk-first"],"sourcesContent":["(ns athens.views.left-sidebar\n  (:require\n    [athens.db :as db]\n    [athens.router :refer [navigate-uid]]\n    [athens.style :refer [color OPACITIES]]\n    [athens.views.buttons :refer [button-primary]]\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [posh.reagent :refer [q]]\n    [re-frame.core :as re-frame :refer [dispatch subscribe]]\n    [stylefy.core :as stylefy :refer [use-style use-sub-style]]))\n\n\n;;; Styles\n\n\n(def left-sidebar-style\n  {:flex \"0 0 288px\"\n   :grid-area \"left-sidebar\"\n   :width \"288px\"\n   :height \"100%\"\n   :display \"flex\"\n   :flex-direction \"column\"\n   :padding \"120px 32px 16px 32px\"\n   ::stylefy/sub-styles {:top-line {:margin-bottom \"40px\"\n                                    :display \"flex\"\n                                    :flex \"0 0 auto\"\n                                    :justify-content \"space-between\"}\n                         :footer {:margin-top \"auto\"\n                                  :flex \"0 0 auto\"\n                                  :align-self \"stretch\"\n                                  :display \"grid\"\n                                  :grid-auto-flow \"column\"\n                                  :grid-template-columns \"1fr auto auto\"\n                                  :grid-gap \"4px\"}\n                         :small-icon {:font-size \"16px\"}\n                         :large-icon {:font-size \"22px\"}}})\n\n\n(def shortcuts-list-style\n  {:flex \"1 1 100%\"\n   :display \"flex\"\n   :list-style \"none\"\n   :flex-direction \"column\"\n   :padding \"0\"\n   :margin \"0 0 32px\"\n   :overflow-y \"auto\"\n   ::stylefy/sub-styles {:heading {:flex \"0 0 auto\"\n                                   :opacity (:opacity-med OPACITIES)\n                                   :line-height \"1\"\n                                   :margin \"0 0 4px\"\n                                   :font-size \"inherit\"}}})\n\n\n(def shortcut-style\n  {:color (color :link-color)\n   :cursor \"pointer\"\n   :display \"flex\"\n   :flex \"0 0 auto\"\n   :padding \"4px 0\"\n   :transition \"all 0.05s ease\"\n   ::stylefy/mode [[:hover {:opacity (:opacity-high OPACITIES)}]]})\n\n\n(def notional-logotype-style\n  {:font-family \"IBM Plex Serif\"\n   :font-size \"18px\"\n   :opacity (:opacity-med OPACITIES)\n   :letter-spacing \"-0.05em\"\n   :font-weight \"bold\"\n   :text-decoration \"none\"\n   :justify-self \"flex-start\"\n   :align-self \"center\"\n   :color (color :header-text-color)\n   :transition \"all 0.05s ease\"\n   ::stylefy/mode [[:hover {:opacity (:opacity-high OPACITIES)}]]})\n\n\n;;; Components\n\n\n(defn left-sidebar\n  []\n  (let [open? (subscribe [:left-sidebar/open])\n        shortcuts (->> @(q '[:find ?order ?title ?uid\n                             :where\n                             [?e :page/sidebar ?order]\n                             [?e :node/title ?title]\n                             [?e :block/uid ?uid]] db/dsdb)\n                       seq\n                       (sort-by first))]\n    (when @open?\n\n      ;; IF EXPANDED\n      [:div (use-style left-sidebar-style)\n\n       ;; SHORTCUTS\n       [:ol (use-style shortcuts-list-style)\n        [:h2 (use-sub-style shortcuts-list-style :heading) \"Shortcuts\"]\n        (doall\n          (for [[_order title uid] shortcuts]\n            ^{:key uid}\n            [:li>a (use-style shortcut-style {:on-click #(navigate-uid uid)}) title]))]\n\n       ;; LOGO + BOTTOM BUTTONS\n       [:footer (use-sub-style left-sidebar-style :footer)\n        [:a (use-style notional-logotype-style {:href \"https://github.com/athensresearch/athens\" :target \"_blank\"}) \"Athens\"]\n        [button-primary {:label \"Load Test Data\"\n                         :on-click-fn #(dispatch [:get-db/init])}]]])))\n"]}